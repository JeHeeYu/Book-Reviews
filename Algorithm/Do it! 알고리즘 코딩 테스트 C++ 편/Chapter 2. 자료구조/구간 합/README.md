# 구간 합 정리 내용

## 구간 합 핵심 이론
구간 합 알고리즘을 활용하기 위해 먼저 합 배열을 구해야 한다.
<br>
합 배열은 특정 범위에서 배열의 합을 말한다.

```
// 합 배열 S 정의

S[i] = A[0] + A[1] + A[2] + ... + A[i -1] + Ai]     // A[0]부터 A[i]까지의 합
```

합 배열은 기존의 배열을 전처리한 배열이라고 생각하면 편하다.
<br>
이렇게 합 배열을 미리 구해 놓으면 기존 배열의 일정 범위의 합을 구하는 <b>시간 복잡도가 O(N)에서 O(1)로 감소한다.</b>
<br>
<br>
예를 들어 아래와 같은 배열이 있다.

<br>

![image](https://user-images.githubusercontent.com/87363461/229328343-daf04fcd-b131-451e-b545-bf0dfafde7ae.png)

<br>

A[i]부터 A[j]까지의 배열 합을 합 배열 없이 구할 경우, 최악의 경우는 i가 0, j가 N의 경우로 시간 복잡도는 O(N)이 된다.
<br>
이런 경우 합 배열을 이용하게 된다면 O(1)안에 답을 구할 수 있다.
<br>
<br>
합 배열은 다음과 같이 간단한 공식으로 구할 수 있다.

```
// 합 배열 S를 구하는 공식

S[i] = S[i - 1] + A[i]
```

이렇게 구현된 합 배열을 이용하여 구간 합도 쉽게 구할 수 있다.
<br>
i에서 j까지의 구간 합을 구하는 공식은 다음과 같다.

```
// 구간 합을 구하는 공식

S[j] - S[i - 1]     // i에서 j까지의 구간 합
```

### 구간 합 공식 구하는 방법
먼저 아래와 같은 배열이 있으며, 배열 A[2]부터 A[5] 까지의 구간 합을 합 배열을 통해 구하는 과정이다.

<br>

![image](https://user-images.githubusercontent.com/87363461/229328430-564597de-c3c4-41fc-85ee-5a79e3388f0e.png)

<br>

그림을 보면 합 배열과 구간 합이 연관되어 있는 것을 볼 수 있다.
<br>
A[0] + ... A[5]에서 A[0] + A[1]을 빼면 구간 합 A[2] + ... + A[5]가 나오므로, S[5]에서 S[1]을 빼면 구간 합을 쉽게 구할 수 있다.
<br>
<br>
이렇게 합 배열만 미리 구해 두면 구간 합은 한 번의 계산으로 구할 수 있다.

```
// A[2] ~ A[5] 구간 합을 합 배열로 구하는 과정

S[5] = A[0] + A[1] + A[2] + A[3] + A[4] + A[5]
S[1] = A[0] + A[1]
S[5] - S[1] = A[2] + A[3] + A[4] + A[5]
```

### 문제 003 구간 합 구하기 4 (실버 3, 11659)

[문제 링크](https://www.acmicpc.net/problem/11659)
