## 2.4 다양한 트리 구조

### 2.4.1 이진 검색 트리(BST, Binary Search Tree)
이진 검색 트리는 널리 사용되는 형태의 트리로, 다음과 같은 속성이 있다.
- 부모 노드의 값 >= 왼쪽 자식 노드의 값
- 부모 노드의 값 <= 오른쪽 자식 노드의 값

즉, (왼쪽 노드 <= 부모 노드 <= 오른쪽 노드)의 관계를 가진다.
<br>
<br>
이러한 관계식은 부모 노드보다 작거나 같은 모든 원소는 항상 왼쪽에, 부모 노드보다 크거나 같은 원소는 항상 오른쪽에 있게 된다.
<br>
따라서 원소 검색을 위해 루트 노드부터 차례대로 값을 비교하는 경우, 각 단계마다 검색 범위가 절반으로 줄어든다.
<br>
<br>
BST가 마지막 레벨을 제외한 모든 노드에 두 개의 자식 노드가 있을 경우 이 트리의 높이는 log(2)N이 된다.
<br>
여기서 N은 원소의 개수를 나타낸다.
<br>
<br>
이로 인해 BST의 검색 및 삽입 동작은 O(log N)의 시간 복잡도를 갖는다.
<br>
이러한 형태의 이진 트리를 완전 이진 트리(Complete Binary Tree)라고 한다.

<br>

### BST에서 원소 검색
예를 들어 아래와 같이 중복되지 않는 양수를 원소로 갖는 트리가 있으며, 7을 찾으려고 한다.
<br>

![image](https://github.com/JeHeeYu/Book-Reviews/assets/87363461/e94efa5c-1e4e-4c8c-9f45-e01b31dd1cde)

<br>

화살표로 표현된 것처럼 각 노드의 숫자와 7을 비교하여 어느 하위 노드로 이동할지를 결정해야 한다.
<br>
이진 검색 트리에서 현재 노드보다 왼쪽 노드는 값이 작고, 오른쪽 노드는 값이 크다는 점이 중요하다.
<br>
<br>
먼저 루트 노드와 숫자 7을 비교한다.
<br>
루트 노드의 값은 12인데, 7은 12보다 작으므로 왼쪽 자식 노드로 이동한다.
<br>
이후 왼쪽 자식 노드의 값은 10인데, 7은 10보다 작으므로 다시 왼쪽 자식 노드로 이동한다.
<br>
<br>
이후 같은 작업을 진행하다가 4 노드에서 왼쪽 노드는 2이므로 오른쪽 노드를 검색하면 숫자 7을 찾을 수 있다.
<br>
<br>
BST에서 원소를 검색할 때 트리의 모든 원소를 방문하지 않아도 된다.
<br>
현재 노드가 찾고자 하는 노드가 아닐 때마다 검색 범위가 반으로 줄어든다.

<br>


### BST에 새 원소 삽입하기
위와 같은 트리 구조에서 18을 추가하려고 한다.
<br>

![image](https://github.com/JeHeeYu/Book-Reviews/assets/87363461/f462bf90-dfbb-4b1f-a0bf-d639ca4b1995)

<br>

새로운 원소를 추가하려면 먼저 원소가 삽입될 위치의 부모 노드를 찾아야 한다.
<br>
즉, 루트 노드부터 각 노드를 추가할 원소와 비교하면서 원소가 삽입될 위치로 이동해야 한다.
<br>
<br>
위 그림과 같이 새 원소 18을 추가하기 위해 먼저 17이 저장된 노드까지 이동했으며, 18이 17보다 크므로 17의 오른쪽 자식 노드에 18을 추가한다.

<br>

### BST에서 원소 삭제하기
아래와 같은 트리가 있다.
<br>

![image](https://github.com/JeHeeYu/Book-Reviews/assets/87363461/e11edf35-0612-4f14-8211-c7822a802a94)

<br>

이 트리에서 루트 노드 12를 삭제하려고 한다.
<br>
BST에서 원소를 삭제하는 작업은 단순히 노드를 삭제하는 것으로 끝나는 것이 아니라, 노드 삭제 후 전체 트리가 BST 속성을 만족하도록 다른 적절한 노드로 삭제된 노드를 대체해야 하기 때문에 복잡하다.
<br>
<br>
먼저 첫 번째 단계로 삭제할 노드를 찾아야 하며, 그 후 다음과 같은 세 가지 경우를 확인해야 한다.
- 자식 노드가 없는 경우 : 단순히 해당 노드를 삭제하면 됨
- 자식 노드가 하나만 있는 경우 : 노드 삭제 후, 부모 노드의 포인터가 해당 자식 노드를 가리키도록 조정
- 자식 노드가 두 개 있는 경우 : 노드 삭제 후, 현재 노드를 후속 노드(Successor)로 대체

여기서 후속 노드란 현재 노드 다음으로 큰 숫자를 가진 노드를 말한다.
<br>
즉, 현재 원소보다 큰 원소들 중에서 가장 작은 원소를 의미한다.
