# 3.5 블룸 필터

블룸 필터(Bloom Filter)는 해시 테이블에 비해 공간 효율이 매우 높은 방법이지만, 결정적(Deterministic) 솔루션 대신 부정확한 결과를 얻을 수 있다.
<br>
블룸 필터는 거짓-부정(False Negative)이 없다는 것은 보장하지만, 거짓-긍정(False Positive)은 나올 수 있다.
<br>
<br>
즉, 특정 원소가 존재한다는 긍정적인 답변을 받을 경우, 이 원소는 실제로 있을 수도 있고 없을 수도 있다.
<br>
그러나 특정 원소가 존재하지 않는다는 부정적인 답변을 받았다면 이 원소는 확실히 없다.
<br>
<br>
뻐구기 해싱과 마찬가지로 블룸 필터도 여러 개의 해시 함수를 사용한다.
<br>
보통 두 개의 해시 함수는 충분한 정확도를 기대하기 어렵기 때문에 세 개 이상을 사용해야 한다.
<br>
블룸 필터는 실제 값을 저장하지 않으며, 대신 특정 값이 있는지 없는지를 나타내는 부울 타입 배열을 사용한다.
<br>
<br>
원소를 삽입할 경우, 모든 해시 함수 값을 계산하고 부울 타입 배열에서 이 해시 값에 대응하는 위치의 비트 값을 1로 설정한다.
<br>
룩업의 경우, 모든 해시 함수 값을 계산하고 이에 대응되는 위치의 비트 값이 1로 설정되어 있는지를 검사한다.
<br>
만약 검사한 모든 비트가 1이면 true를 반환한다.
<br>
1이 아닌 비트가 하나라도 있다면 false를 반환하고, 이는 해당 원소가 없음을 의미한다.
<br>
<br>
블룸 필터가 결정적이지 않은 이유는 특정 비트가 다수의 원소에 의해 1로 설정될 수 있기 때문이다.
<br>
즉, 특정 값 x와 연관된 모든 비트가 이전에 삽입된 다른 원소 값들에 의해 모두 1로 설정되어 있을 가능성이 있다는 뜻이다.
<br>
<br>
이러한 경우 x에 대한 룩업 함수는 true를 반환한다.
<br>
이처럼 특정 원소가 있다고 잘못 판단하는 것을 거짓-긍정이라고 한다.
<br>
<br>
원소 개수가 많아질수록 거짓-긍정이 발생할 가능성은 증가한다.
<br>
그러나 x와 연관된 비트 중 하나라도 1로 설정되어 있지 않다면 x가 확실하게 없다고 할 수 있다.
<br>
그러므로 거짓-부정은 발생할 수 없다.
<br>
<br>
부울 배열의 모든 원소가 true 또는 1로 설정될 경우, 이 배열은 포화 상태가 된다.
<br>
이 상태에서 룩업 함수는 항상 true를 반환하고, 삽입 함수는 블룸 필터 상태에 아무런 영향을 주지 않는다.
<br>
<br>
아래 그림은 블룸 필터를 이용한 원소 삽입과 검색 과정을 나타낸 그림이다.
<br>

![image](https://github.com/JeHeeYu/Book-Reviews/assets/87363461/c0069dd9-33e4-4374-bca1-c90b61c0f536)

<br>

![image](https://github.com/JeHeeYu/Book-Reviews/assets/87363461/f6ee35ce-9f29-489b-be90-c0af4af8ee58)

<br>

![image](https://github.com/JeHeeYu/Book-Reviews/assets/87363461/9aefd48f-bb0c-4e58-b7c5-468e25414ca5)

