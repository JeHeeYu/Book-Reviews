# 플러터 내부 구조 살펴보기 정리 내용

## 플러터 폴더 구조

![image](https://user-images.githubusercontent.com/87363461/233820154-99cde4b6-2e7d-4e8c-9a9f-23beaa048df9.png)

<br>
먼저 lib 폴더에는 플러터 앱의 소스가 작성된 main.dart 파일이 있다.
<br>
그리고 android와 ios 폴더에는 각 운영체제에서 프로젝트를 시작할 때 필요한 파일이 있다.
<br>
<br>
test 폴더에는 다트 코드로 함수를 테스트할 때 사용하는 파일이 있다.
<br>
build 폴더 등은 앱의 설정값을 바꾸면 자동으로 변경되므로 직접 수정하지 않아도 된다.

#### 플러터 프로젝트 주요 폴더

|폴더|내용|비고|
|:---:|:---|:---|
|android|안드로이드 프로젝트 관련 파일|안드로이드 스튜디오로 실행 가능|
|ios|iOS 프로젝트 관련 파일|엑스코드로 실행 가능(맥 전용)|
|lib|플러터 앱 개발을 위한 다트 파일|플러터 SDK 설치 필요|
|test|플러터 앱 개발 중 테스트 파일|테스트 편의성 제공|


루트에도 여러 파일이 있지만 중요한 파일은 pubspec.yaml 파일이다.
<br>
pubspec.yaml 파일은 플러터에서 다양한 패키지와 이미지, 폰트 등을 사용할 수 있게 해준다.

## 메인 소스 파일 구조

### main() 함수
다음은 main 함수이다. 

```
void main() {
  void main() {
  runApp(const MyApp());
}
```

main() 함수에서는 runApp() 함수를 호출한다.
<br>
runApp() 함수는 binding.dart 클래스에 정의되어 있으며 플러터 앱을 시작하는 역할을 한다.
<br>
이 함수에 플러터 앱을 시작하면서 화면에 표시할 위젯을 전달한다.

### MyApp 클래스
MyApp은 runApp() 함수로 플러터 앱을 실행할 때 화면에 표시할 위젯으로 전달한 MyApp 클래스를 정의한 부분이다.


## 위젯 구분
플러터 앱을 구성하는 위젯은 스테이트리스(Stateless)와 스테이트풀(Statefull) 두 가지로 구분할 수 있다.
<br>
이러한 구분으 상태 연결과 관련이 있다.
<br>
<br>
예를 들어, 내용을 갱신할 필요가 없는 위젯은 화면에 보이기 전에 모든 로딩을 마친다.
<br>
예를 들어 앱을 처음 실행하면 사용자에게 정적인 도움말을 보여줄 수 있다.
<br>
이런 도움말 페이지는 갱신할 필요가 없으므로, 앱이 위젯의 상태를 감시하고 있을 필요가 없다.
<br>
<br>
이처럼 상태를 연결할 필요가 없는 위젯을 스테이트리스 위젯이라고 하며, StatelessWidget 클래스를 상속받아 만든다.


![image](https://user-images.githubusercontent.com/87363461/233820900-baa38395-96ef-40fd-b7cf-09f418801b6f.png)

<br>

반면에 내용을 갱신해야 할 때도 있다.
<br>
예를 들어 계산기 앱에서 숫자를 입력하고 계산 버튼을 누르면 결괏값이 화면에 출력되어야 한다.
<br>
이때 버튼을 누를 때마다 화면에 누른 숫자가 반영되어야 한다.
<br>
<br>
즉, 앱이 위젯의 상태를 감시하다가 위젯이 특정 상태가 되면 알맞은 처리를 수행하여야 한다.
<br>
이처럼 상태가 연결된 동적인 위젯을 스테이트 풀 위젯이라고 하며 StateFulWidget 클래스를 상속받아 만든다.

![image](https://user-images.githubusercontent.com/87363461/233820937-51da1b03-f8a5-426b-80ee-046c7e4917e9.png)

<br>
스테이트풀 위젯은 언제든 상태가 변경되면 특정한 처리를 수행해야 하므로 항시 지켜봐야 한다.
<br>
그만큼 메모리나 CPU 등 자원을 많이 소비한다.


