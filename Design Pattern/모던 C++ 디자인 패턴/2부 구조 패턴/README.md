# 구조 패턴 정리

구조 패턴은 그 이름이 암시하는 바와 같이 애플리케이션의 구조를 어떻게 만드느냐에 대한 내용이다.
<br>
이 패턴들은 SOLID 원칙을 더 잘 준수하면서 코드의 범용적인 사용성을 높이고 리팩터링을 쉽게 할 구조들을 제안한다.
<br>
<br>
객체의 구조를 설계할 때 다음과 같은 잘 알려진 세 가지 방법론을 이용한다.

- 상속 : 객체가 상위 클래스들의 public, protected 필드 및 메서드를 자동으로 넘겨받는다.<br>인스턴스화 할 수 있게 하려면 상위 클래스들의 모든 퓨어-버추얼 메서드가 구현되어야만 한다.<br>만약 구현되지 않은 퓨어-버추얼 메서드가 있으면 추상 클래스가 되어버리고 객체의 인스턴스를 생성할 수가 없다.
- 컴포지션(Composition) : 구성 요소를 멤버로서 가지고, 그 멤버 객체들이 부모 객체 없이는 존재할 수 없는 형태의 구성을 의미한다.<br>예를 들어 owner<T> 타입을 멤버로 가지고 있는 경우이며, 객체가 소멸될 때 이 멤버도 소멸된다.
- 애그리게이션(Aggregation) : 객체가 다른 객체를 내부에서 참조하기는 하지만 그 객체가 독립적으로 존재할 수 있는 형태의 구성을 의미한다.<br>예를 들어 T* 또는 shared_ptr<T> 타입의 멤버를 가지는 경우이다.
  
요즘에는 컴포지션과 애그리게이션이 같은 형태로 구현된다.
<br>
만약 개인 정보를 담는 클래스 Person이 있고 이 클래스가 필드 멤버로서 주솟값 클래스 Address를 가진다면, Address를 외부 타입으로 둘 수도 있고 내부의 중첩 타입으로 둘 수도 있다.
<br>
두 경우 모두 Address를 public으로 제공하여 Address 또는 Person::Address으로 인스턴스화 할 수 있다.
<br>
<br>
실질적으로는 애그리게이션이지만 컴포지션이라는 용어를 사용하는 경우가 흔해서 두 용어의 차별화가 흐려지고 있다.
